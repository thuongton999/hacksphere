$schema: 'https://moonrepo.dev/schemas/project.json'

type: 'application'
language: 'typescript'
platform: 'node'

project:
  name: 'web'
  description: 'Next.js web application for HackSphere'

dependsOn:
  - 'ui'
  - 'auth'
  - 'shared'

tasks:
  dev:
    command: 'bun run dev'
    local: true
    options:
      persistent: true

  build:
    command: 'bun run build'
    deps:
      - '~:typecheck'
    inputs:
      - 'src/**/*'
      - 'public/**/*'
      - 'next.config.js'
      - 'tailwind.config.js'
    outputs:
      - '.next'

  start:
    command: 'bun run start'
    deps:
      - '~:build'

  lint:
    command: 'bun run lint'

  typecheck:
    command: 'bun run typecheck'
